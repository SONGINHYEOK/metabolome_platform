{% extends "base.html" %}
{% block content %}
<!-- TODO: Claude Code에서 DEVELOPMENT_GUIDE.md 섹션 6-3 참고하여 구현 -->
<!-- ★ 레퍼런스 이미지 KakaoTalk_Photo_001 기반 3-컬럼 레이아웃 ★ -->
<header class="bg-navy text-white h-16 flex items-center px-6 justify-between">
    <div class="flex items-center gap-4">
        <h1 class="text-xl font-bold">RESEARCH PORTAL</h1>
        <span class="text-sm text-gray-300">연구자용 서비스</span>
    </div>
    <input type="text" placeholder="Search sample, compound, feature" class="bg-navy-light text-white px-4 py-2 rounded-lg w-96 border border-gray-600">
    <span class="border border-blue-400 text-blue-400 px-3 py-1 rounded text-sm">2-TRACK: RESEARCH</span>
</header>

<div class="text-sm text-gray-500 px-6 py-2 border-b">
    <a href="{% url 'landing' %}">HOME</a> &gt;
    <a href="{% url 'research_index' %}">METABOLOMICS DB</a> &gt;
    <span class="text-gray-800">RESEARCH PORTAL</span>
</div>

<div class="flex h-[calc(100vh-120px)]">
    <!-- 좌측: 필터 -->
    <aside class="w-64 border-r bg-white p-4 overflow-y-auto">
        <h3 class="text-lg font-semibold mb-4">조건 기반 탐색 (FILTERS)</h3>
        <p class="text-sm text-gray-500">Claude Code에서 필터 UI 구현</p>
    </aside>

    <!-- 중앙: Compound 목록 -->
    <main class="flex-1 p-6 overflow-y-auto">
        <h2 class="text-2xl font-bold mb-4">COMPOUND CATALOG</h2>
        <p class="text-gray-500 mb-4">총 {{ compounds.count }}건</p>
        {% for c in compounds %}
        <div class="bg-white border rounded-lg p-4 mb-2 flex items-center justify-between">
            <div>
                <span class="text-lg font-semibold">{{ c.name }}</span>
                <span class="text-sm text-gray-500 ml-2">{{ c.crop.name_ko }} 유래</span>
            </div>
            <div class="flex items-center gap-4">
                <span class="bg-gray-100 px-2 py-1 rounded text-sm">{{ c.annotation_level }}</span>
                <span class="{% if c.source == 'IN-HOUSE' %}bg-yellow-100 text-yellow-800{% else %}bg-blue-100 text-blue-800{% endif %} px-2 py-1 rounded text-sm">{{ c.source }}</span>
                <span class="text-2xl font-bold">{{ c.score }}</span>
                <span class="{% if c.qc_status == 'PASS' %}text-green-600{% else %}text-orange-500{% endif %} font-medium">{{ c.qc_status }}</span>
            </div>
        </div>
        {% endfor %}
    </main>

    <!-- 우측: 상세 패널 -->
    <aside class="w-96 border-l bg-white p-4 overflow-y-auto">
        {% if selected %}
        <h3 class="text-xl font-bold">{{ selected.name }}</h3>
        <p class="text-sm text-gray-500">{{ selected.crop.name_ko }} 유래</p>
        {% else %}
        <p class="text-gray-400 text-center mt-20">성분을 선택하면 상세 정보가 표시됩니다</p>
        {% endif %}
    </aside>
</div>
{% endblock %}
